# 웹(WWW) 이란 

- World Wide Web
- CERN의 팀버너스리 에 의해서 처음 개발
- 문서의 공유를 쉽게 하기위해 개발됨



# 웹의 원래 목적은?

- 문서를 쉽게 공유하기 위해 만들어졌다
- 최초의 웹을 web 1.0 으로 표현하기도 함
  - 발전사에 따라 web2.0 , web3.0 등등 (명확한 기준은 없음)
  - web1.0은 문서를 표현하는 정적인 웹사이트
  - web2.0은 자바스크립트에 의해 동적인 페이지의 등장
  - web3.0은 CGI(Common Gateway Interface) 기술이 나오기 시작
    - 이 CGI 기술이 발전해서 백엔드가됨
  - HTML5 표준이 나오면서 web4.0이 시작
    - 자바스크립트가 표준 언어로 지정
    - 문서만 표현할수 있던 HTML이 비디오,이미지,음악 등 같이 표현
- 현재는 어플리케이션을 대신하고 있다



# 웹의 동작 방식

1. HTTP (Hyper-Text Transfer Protocol)
   - HTML로 이루어진 '텍스트'를 네트워크를 통해서 송/수신 하는 방법
     - HTML로 이루어진 소스파일은 서버에 존재
     - 브라우저가 서버로부터 HTML 소스파일을 전송받아 화면에 표현

2. HTML (Hyper-Text Markup Language)

   - 하이퍼텍스트로 이루어진 소스코드
     - 하이퍼라는 표현은 별의미없음 그냥 텍스트
   - 마크업은?
     - <, > 로 이루어진 텍스트를 마크업 언어라고 함

    

3. 프론트엔드, 백엔드

   - 어디서 실행되느냐에 따라 구분
   - 프론트엔드
     - 웹브라우저에서 실행되는 것을 의미 (HTML, CSS, JavaScript)
     - 공개되는 소스코드를 모두 다운로드하여 브라우저가 실행
   - 백엔드
     - 서버에서 실행되는 것을 의미
     - 코드가 공개되어 있지 않음
     - 서버에서 실행된 후 반환된 값을 브라우저에서 확인하게 됨
     - 자바의 스프링, 파이썬의 장고, 루비의 레일즈, .. 등등



## HTTP

- 네트워크 전송 규약
  - 문자 프로토콜
  - 하이퍼 텍스트를 주고받기 위한 네트워크 표준



### 소켓 프로그래밍

- 네트워크를 통한 입,출력(통신)을 하기 위한 프로그래밍
  - 소켓을 이용한 통신을 한다고 해서 붙여진 이름



### Request Header

- ```python
  GET /index.html HTTP/1.1\r\n
  Host: info.cern.ch\r\n
  \r\n
  ```



#### 요청헤더 구성

- ```python
  GET /index.html HTTP/1.1\r\n
  ------------------------------
  # start-line(request-line)CRLF
  
  Host: info.cern.ch\r\n
  ------------------------------
  # 헤더 필드 : *
  
  \r\n
  ----
  # 헤더의 끝을 의미
  	
  
  # HTTP 헤더에서 CRLF 는 구분자이다.
  # 라인과 라인, 필드와 필드를 구분해주는 구분자의 역할
  # 모든 라인은 \r\n로 끝나야함
  # 헤더필드는 서버와의 통신에 필요한 여러가지 정보를 표현
  # 예제에서는 Host 변수 하나만 사용했지만, 더 많은 변수 사용 가능
  
  ```



#### request - line

- ```python
  GET     SP    /index.html    SP     HTTP/1.1     \r\n
  ------        ----------           ---------     -----
  method          url(URI)          protocol ver    sep
  ```

- 3개의 필드로 구성

  - 각 필드의 구분자는 SP(공백)이다.
  - 한글자라도 틀리면 통신이 되지않음!!
  - method : 파이썬의 method 와는 다른 개념 ,  가장 중요한 개념

- method

  - [위키참조](https://ko.wikipedia.org/wiki/HTTP)
  - [나무위키](https://namu.wiki/w/HTTP)

- URL / URI

  - Uniform Resource Locator
    - 네트워크상에서 접근하려는 리소스(파일)의 경로
    - 최근에는 보안상의 취약점으로 인해 잘 사용하지 않음
  - Uniform Resource Identifier
    - 동일한 경로 표현이지만 파일의 정보는 노출되지 않음
    - 식별번호를 이용하여 백엔드에서 그에맞는 정보를 반환

  

- 메소드 테스트

- ```python
  import socket
  
  serverAddress = socket.gethostbyname('info.cern.ch') # 주소는 다른거도 됨
  serverPort = 80
  
  sock = socket.socket( socket.AF_INET, socket.SOCK_STREAM )
  sock.connect( (serverAddress, serverPort) )
  
  method = 'GET' # GET 대신에 HEAD, OPTIONS로 바꿔보고 응답을 확인해봅시다 
  request_header = f'{method} /index.html HTTP/1.1\r\n'
  request_header += 'Host: info.cern.ch\r\n'
  request_header += '\r\n'
  
  sock.send( request_header.encode() )
  response = sock.recv(1024)
  print( response.decode() )
  
  sock.close()
  ```



### Response Header



#### 응답헤더 구성

- ```python
  HTTP/1.1 200 OK   # 줄마다 CRLF 다 있음
  -------------------------------------
  # start-line(response-line)CRLF
  
  Date: Fri, 17 Dec 2021 08:07:41 GMT
  Server: Apache
  Last-Modified: Wed, 05 Feb 2014 16:00:31 GMT
  ETag: "286-4f1aadb3105c0"
  Accept-Ranges: bytes
  Content-Length: 646
  Connection: close
  Content-Type: text/html
  
  --------------------------------------------------
  # header-field : *
  
  \r\n
  --------------------------------------------------
  헤더의 끝
  ```



#### response-line

- 클라이언트의 요청에 대한 처리 결과

- ```python
    HTTP1.1         SP         200         SP         OK\r\n
  -----------               ----------              -----------
  protocol ver		     status code		    status string  
  ```

- request-line과 마찬가지로 3개의 필드로 구성

  - 각 필드의 구분자는 SP(공백) 이다

- 상태코드

  - [위키참조](https://ko.wikipedia.org/wiki/HTTP_%EC%83%81%ED%83%9C_%EC%BD%94%EB%93%9C)
  - [나무위키](https://namu.wiki/w/HTTP/%EC%9D%91%EB%8B%B5%20%EC%BD%94%EB%93%9C)
  - 1XX : 거의 볼일이 없음
  - 2XX : 서버가 요청을 수락했음을 의미
    - 200 OK : 클라이언트 요청을 수락했고 처리가 잘 되었음
  - 3XX : 요청에는 문제가 없지만, 요청에 대한 optional한 처리
    - 304 Not Modified : 요청한 리소스가 변경되지 않았음을 의미
    - 301, 302는 리디렉션(Redirection)과 관련
      - 영구이동, 임시이동 
      - 지금 요청한 리소스의 위치가 바뀐 경우
  - 4XX : 클라이언트 요청 오류 (요청에 문제가 있는 경우)
    - 400 Bad Request : 오탈자, 없는 리소스 
    - 401은 인증키가 없는 경우
    - 403은 해당 리소스에 대한 접근 권한이 없는 경우
    - 404 Not Found : 리소스를 찾을 수 없는 경우
  - 5XX : 서버 에러 (요청을 처리하다가 서버에서 오류가 발생한 경우)
    - 500 internal server error : 백엔드내에 코드에서 오류가 발생한 경우

  



















